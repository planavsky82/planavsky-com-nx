<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Products</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <script>
      // Create a class for the element
      class MyCustomElement extends HTMLElement {
        static observedAttributes = ["color", "size"];

        constructor() {
          // Always call super first in constructor
          super();

          const shadow = this.attachShadow({ mode: "open" });

          const div = document.createElement("div");
          const style = document.createElement("style");
          shadow.appendChild(style);
          shadow.appendChild(div);
        }

        connectedCallback() {
          console.log("Custom element added to page.");
        }

        disconnectedCallback() {
          console.log("Custom element removed from page.");
        }

        adoptedCallback() {
          console.log("Custom element moved to new page.");
        }

        attributeChangedCallback(name, oldValue, newValue) {
          console.log(`Attribute ${name} has changed.`);
        }
      }

      customElements.define("my-custom-element", MyCustomElement);
    </script>
  </head>
  <body>
    <main>
      <h1>Products</h1>
      <h2>Collection Display</h2>
      <section>
        <my-custom-element></my-custom-element>
      </section>
    </main>
  </body>
</html>
